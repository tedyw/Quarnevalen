// ————————————————————————————- //
// VARIABLES
// ————————————————————————————- //
function onEndAnimation(e,t){endCurrPage=!1;endNextPage=!1;resetPage(e,t);isAnimating=!1}function resetPage(e,t){e.attr("class",e.data("originalClassList"));t.attr("class",t.data("originalClassList")+" pt-page-current")}function loadNextPage(){if(isAnimating)return!1;isAnimating=!0;var e=$pages.eq(current);current<pagesCount-1?++current:current=0;var t=$pages.eq(current).addClass("pt-page-current"),n="pt-page-moveToTopEasing pt-page-ontop",r="pt-page-moveFromBottom";e.addClass(n).on(animEndEventName,function(){e.off(animEndEventName);endCurrPage=!0;endNextPage&&onEndAnimation(e,t)});t.addClass(r).on(animEndEventName,function(){t.off(animEndEventName);endNextPage=!0;endCurrPage&&onEndAnimation(e,t)});support||onEndAnimation(e,t)}function loadPreviousPage(){if(isAnimating)return!1;isAnimating=!0;var e=$pages.eq(current);current==0?current=pagesCount-1:current<=pagesCount-1?--current:current=0;var t=$pages.eq(current).addClass("pt-page-current"),n="pt-page-moveToBottomEasing pt-page-ontop",r="pt-page-moveFromTop";e.addClass(n).on(animEndEventName,function(){e.off(animEndEventName);endCurrPage=!0;endNextPage&&onEndAnimation(e,t)});t.addClass(r).on(animEndEventName,function(){t.off(animEndEventName);endNextPage=!0;endCurrPage&&onEndAnimation(e,t)});support||onEndAnimation(e,t)}function gotoPage(e){if(isAnimating)return!1;isAnimating=!0;var t=$pages.eq(current);current!=e&&(current=e);var n=$pages.eq(current).addClass("pt-page-current"),r="pt-page-moveToBottomEasing pt-page-ontop",i="pt-page-moveFromTop";t.addClass(r).on(animEndEventName,function(){t.off(animEndEventName);endCurrPage=!0;endNextPage&&onEndAnimation(t,n)});n.addClass(i).on(animEndEventName,function(){n.off(animEndEventName);endNextPage=!0;endCurrPage&&onEndAnimation(t,n)});support||onEndAnimation(t,n)}var $main=$("#pt-main"),$pages=$main.children("div.pt-page"),$iterate=$("#Page-Transition"),pagesCount=$pages.length,current=0,isAnimating=!1,endCurrPage=!1,endNextPage=!1,animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},animEndEventName=animEndEventNames[Modernizr.prefixed("animation")],support=Modernizr.cssanimations;